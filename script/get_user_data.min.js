document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelectorAll(".datepicker");M.Datepicker.init(e,{format:"yyyy-mm-dd"})}));let userEmail=getCookie("email");function getCookie(e){let t=e+"=",a=decodeURIComponent(document.cookie).split(";");for(let e=0;e<a.length;e++){let u=a[e];for(;" "==u.charAt(0);)u=u.substring(1);if(0==u.indexOf(t))return u.substring(t.length,u.length)}return""}function getUserData(e){e=JSON.parse(e),console.log(e),document.querySelector("#signup-name").value=e.name,document.querySelector("#signup-pass").value=e.password,document.querySelector("#signup-birthday").value=e.birthday;let t=document.querySelectorAll(".sex");for(let a=0;a<t.length;a++)e.sex==t[a].value&&t[a].setAttribute("checked","checked");M.updateTextFields()}function updateUserData(e){console.log(e),1==e?M.toast({html:"Data updated successfully!"}):M.toast({html:"Error! Data not updated!"})}console.log(userEmail),ajax("core/get_user_data.php","POST",getUserData,{email:userEmail}),document.querySelector("#signup-submit").onclick=function(e){e.preventDefault();let t=document.querySelectorAll(".sex");for(let e=0;e<t.length;e++)if(t[e].checked){t=t[e].value;break}let a={email:userEmail,name:document.querySelector("#signup-name").value,pass:document.querySelector("#signup-pass").value,birthday:document.querySelector("#signup-birthday").value,sex:t};ajax("core/update_user_data.php","POST",updateUserData,a)};